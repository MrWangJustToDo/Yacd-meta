import{r as d,R as m,p as h,u as v,j as t,b,Q as S,T as R,D as P,U as w,C as W,o as L,V as N,W as C,g as O,X as I,w as k}from"./index-864353ba.js";import{r as z,s as E,f as $}from"./logs-665e81fd.js";import{d as M}from"./debounce-c1ba2006.js";import{u as A}from"./useRemainingViewPortHeight-d693becd.js";import{F as D,p as F}from"./Fab-945424a7.js";import{P as H,a as B}from"./play-89efb1f8.js";function _(){return _=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},_.apply(this,arguments)}function V(e,s){if(e==null)return{};var o=Q(e,s),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Q(e,s){if(e==null)return{};var o={},n=Object.keys(e),r,a;for(a=0;a<n.length;a++)r=n[a],!(s.indexOf(r)>=0)&&(o[r]=e[r]);return o}var j=d.forwardRef(function(e,s){var o=e.color,n=o===void 0?"currentColor":o,r=e.size,a=r===void 0?24:r,i=V(e,["color","size"]);return m.createElement("svg",_({ref:s,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),m.createElement("circle",{cx:"11",cy:"11",r:"8"}),m.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});j.propTypes={color:h.string,size:h.oneOfType([h.string,h.number])};j.displayName="Search";const U=j,X="_RuleSearch_ue4xf_1",Y="_RuleSearchContainer_ue4xf_10",q="_inputWrapper_ue4xf_20",G="_input_ue4xf_20",J="_iconWrapper_ue4xf_45",p={RuleSearch:X,RuleSearchContainer:Y,inputWrapper:q,input:G,iconWrapper:J};function K({dispatch:e,searchText:s,updateSearchText:o}){const{t:n}=v(),[r,a]=d.useState(s),i=d.useCallback(c=>{e(o(c))},[e,o]),g=d.useMemo(()=>M(i,300),[i]),f=c=>{a(c.target.value),g(c.target.value)};return t.jsx("div",{className:p.RuleSearch,children:t.jsxs("div",{className:p.RuleSearchContainer,children:[t.jsx("div",{className:p.inputWrapper,children:t.jsx("input",{type:"text",value:r,onChange:f,className:p.input,placeholder:n("Search")})}),t.jsx("div",{className:p.iconWrapper,children:t.jsx(U,{size:20})})]})})}const Z=e=>({searchText:S(e),updateSearchText:R}),ee=b(Z)(K),te="_logMeta_pycfb_1",oe="_logType_pycfb_8",re="_logTime_pycfb_17",se="_logText_pycfb_22",ne="_logsWrapper_pycfb_37",ae="_logPlaceholder_pycfb_54",ce="_logPlaceholderIcon_pycfb_67",l={logMeta:te,logType:oe,logTime:re,logText:se,logsWrapper:ne,logPlaceholder:ae,logPlaceholderIcon:ce},{useCallback:y,useEffect:le}=k,ie={debug:"#389d3d",info:"#58c3f2",warning:"#cc5abb",error:"#c11c1c"},pe={debug:"debug",info:"info",warning:"warn",error:"error"};function ge({time:e,payload:s,type:o}){return t.jsxs("div",{className:l.logMeta,children:[t.jsx("span",{className:l.logTime,children:e}),t.jsxs("span",{className:l.logType,style:{color:ie[o]},children:["[ ",pe[o]," ]"]}),t.jsx("span",{className:l.logText,children:s})]})}function ue({dispatch:e,logLevel:s,apiConfig:o,logs:n,logStreamingPaused:r}){const a=P(),i=y(()=>{r?z({...o,logLevel:s}):E(),a.app.updateAppConfig("logStreamingPaused",!r)},[o,s,r,a.app]),g=y(x=>e(w(x)),[e]);le(()=>{$({...o,logLevel:s},g)},[o,s,g]);const[f,c]=A(),{t:u}=v();return t.jsxs("div",{children:[t.jsx(W,{title:u("Logs")}),t.jsx(ee,{}),t.jsx("div",{ref:f,children:n.length===0?t.jsxs("div",{className:l.logPlaceholder,style:{height:c*.9},children:[t.jsx("div",{className:l.logPlaceholderIcon,children:t.jsx(L,{width:200,height:200})}),t.jsx("div",{children:u("no_logs")})]}):t.jsxs("div",{className:l.logsWrapper,style:{height:c*.85},children:[n.map((x,T)=>t.jsx("div",{className:"",children:t.jsx(ge,{...x})},T)),t.jsx(D,{icon:r?t.jsx(H,{size:16}):t.jsx(B,{size:16}),mainButtonStyles:r?{background:"#e74c3c"}:{},style:F,text:u(r?"Resume Refresh":"Pause Refresh"),onClick:i})]})})]})}const he=e=>({logs:N(e),logLevel:C(e),apiConfig:O(e),logStreamingPaused:I(e)}),ye=b(he)(ue);export{ye as default};
